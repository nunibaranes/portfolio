import React, { useRef, useState, useEffect, MouseEventHandler } from "react";

import styled from "styled-components";
import { IStyledSVGWrapper } from "../../../interfaces/common/ui";
import { StyledSVGWrapper } from "../../../styles/common/common.styles";
import { getPathLineInAnimation } from "../../../styles/common/utils.styles";
const sections = [
  {
    id: "personal-info",
    title: "Personal Info",
  },
  {
    id: "education",
    title: "Education",
  },
  {
    id: "profession",
    title: "Profession",
  },
  {
    id: "more-info",
    title: "More Info",
  },
  {
    id: "continue",
    title: "Continue",
  },
];
export const AboutBg = (props: IStyledSVGWrapper) => {
  const personalInfoBtn = useRef<SVGSVGElement | null>(null);
  const educationBtn = useRef<SVGSVGElement | null>(null);
  const professionBtn = useRef<SVGSVGElement | null>(null);
  const moreInfoBtn = useRef<SVGSVGElement | null>(null);
  const continueBtn = useRef<SVGSVGElement | null>(null);

  useEffect(() => {
    const buttons = [
      personalInfoBtn,
      educationBtn,
      professionBtn,
      moreInfoBtn,
      continueBtn,
    ];
    buttons.map((button) => {
      button.current.addEventListener("click", (e) => {
        e.preventDefault();
        const clickedBtn = e.target as Element;
        const isMatch = Array.from(clickedBtn.classList).some(
          (className) => className === button.current.id
        );
        //TODO call to prop callback
      });
    });
    return () => {
      buttons.map((button) => {
        button.current.removeEventListener("click", (e) => {});
      });
    };
  }, []);

  return (
    <StyledAboutSvgBG width="100%" height="100%" {...props}>
      <StyledLogoSVG
        id="logo-about-svg"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="17.827 37.675 452.346 579.602"
      >
        <g id="head">
          <path
            id="a"
            d="M238.47 442.13c-1.62 10.6 2.95 4.39-3.63 26.17-18.09 43.64 6.73 18.88-.05 49.37-19.67 27-16.02 45.38 4.62 54.53 20.63 9.16 7.55 17.76 25.99 24.91 18.44 7.16 4.67-8.21 31.9-2.31 27.22 5.91 28.27 1.23 38.28-19.03 10.02-20.25 28.07-12.24 28.25-35.83.18-23.59 20.71-16.53 25.66-46.24 4.95-29.7 9.35-16.43 22.23-38.5s-1.98-32.65 9.85-59.3c11.82-26.65 34.18-23.69 34.35-51.91.18-28.22-8.65-12.97 8.8-45.35 17.46-32.39-13.29-32.66-5.67-59.12 7.63-26.45 3.07-33.62-8.02-45.75-11.09-12.12-16.07-6.63-10.24-35.38-1.81-12.34-2.45-26.67-18.61-44.96-29.46-20.85-21.25-1.77-42.27-26.33-29.82-34.84-27.59-17.8-44.79-25.43-17.19-7.63-22.47-19.85-39.37-11.92-5.53 2.6-9.99 3.14-13.39 1.64l-23.78-10.65c-8.69-3.92-15.49-4.08-20.4-.47-12.21 8.98-6.46 20.74-33.39 21.14-26.94.4-35.47-11.14-48.49 14.61-13.03 25.74-31.92 12.38-38.49 43.42s6.35 20.47-21.04 47.42c-27.4 26.94 8.45 33.63-19.9 67.36-28.34 33.73-5.84 57.89-29.41 73.8-23.57 15.9-3.03 49.89-21.09 60.82-12.04 7.29-11.35 26.38 2.08 57.28-4.7 19.87.43 30.72 15.39 32.56 22.45 2.75 20.24-17.78 38.77-17.79 18.52-.01 45.93-8.44 41.61-38.13"
            fillOpacity="0"
            stroke="#000"
            strokeWidth="4"
          />
          <path
            d="M399.4 169.88c9.78-31.33 2.26-48.39-22.57-51.17-24.83-2.79-38.21-9.75-40.13-20.89"
            id="b"
            fillOpacity="0"
            stroke="#000"
            strokeWidth="4"
          />
          <path
            d="M153.74 139.09c-.1-20.63 15.37-23.02 27.78-27.81 8.27-3.19 11.71-10.92 10.3-23.21"
            id="c"
            fillOpacity="0"
            stroke="#000"
            strokeWidth="4"
          />
          <path
            d="M229.24 154.48c.5 38.3-38.38 26.19-45.63 42.53s2.6 28.94-16.97 52.16c-19.56 23.22-10.49 19.01-14.67 46.99-4.19 27.99-17.58 2.5-31.68 43.57-14.11 41.08 14.77 101.23 40.75 116.87 25.99 15.65 117.45-28.15 128.23-50.12 10.78-21.97-2.12-27.69 23.66-44.04 25.78-16.35 6.96-22.64 9.33-44.22 2.38-21.59 15.75-14.63 23.85-39.84 7.44-21.4-24.64-14.03-20.93-33.99 22.89-51.59-4.03-32.66-22.09-49.94-18.06-17.27 19.07-42.98-19.41-37.42-25.29 3.65-41.11-1.27-47.47-14.79a.9.9 0 00-1.01-.49c-4.58 1.05-6.57 5.29-5.96 12.73z"
            id="d"
          />
          <path
            d="M380.23 366.16c-14.4-13.94-13.84-29.12 1.69-45.56 15.52-16.44 20.77-30.58 15.73-42.41"
            id="e"
          />
          <path
            d="M109.94 295.8c18.38-9.27 11.78-11.28 16.53-30.54 3.16-12.84 9.66-19.77 19.49-20.79"
            id="f"
          />
          <path
            d="M293.16 569.35c-6.05-7.83-42.22-2.27-24.18-31.31 12.02-19.37 11.47-38.14-1.66-56.31"
            id="g"
          />
          <path
            d="M50.87 428.91c-13.12-10.62-13.44-20.71-.97-30.27 12.47-9.56 16.92-19.59 13.35-30.09"
            id="h"
          />
        </g>
        <g id="hand">
          <path
            d="M105.87 609.33c2.73 3.36 6.92 5.2 11.25 4.92 2.07-.13 7.25-.46 15.53-.99 9.57-1.94 17.77-4.8 24.59-8.59 6.82-3.78 15.77-11.47 26.85-23.05 11.71-10.44 19.64-17.53 23.81-21.26 6.24-5.6 6.21-9.67 2.62-14.44-3.6-4.77-9.22-2.38-13.9 1.72-3.11 2.73-9.47 8.18-19.06 16.36l6.28-10.48c12.41-16.09 20.06-25.64 22.96-28.66 4.35-4.53 9.75-13.05 3.67-18.43-4.05-3.58-9.72-2.01-17 4.73l-25.74 31.28c-5.58 6.33-8.12 7.82-7.61 4.48.77-5.02 28.15-39.03 34.19-46.04 6.03-7.01 9.93-15.71 4.27-21.87-3.76-4.1-9.37-1.98-16.8 6.37-5.67 7.41-11.61 15.2-17.83 23.38-6.21 8.17-13.19 15.34-20.93 21.49-1.02-2.25 4.73-10.64 17.25-25.17 18.78-21.79 22.2-32.67 13.39-35.57-5.88-1.93-11.93 1.29-18.16 9.66l-40.53 48.8c-.63 4.84-.3.79.99-12.13 1.94-19.38-5.55-20.8-13.17-20.6-7.61.19-9.32 12.26-9.19 28.55.08 10.86-1.96 25.89-6.11 45.09-.3 3.77-.5 6.13-.57 7.07a22.762 22.762 0 005.01 16.2c3.66 4.51 10 12.32 13.94 17.18z"
            id="i"
          />
        </g>
      </StyledLogoSVG>
      <StyledMainPathSVG
        id="main-path-svg"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="-170.962 77.231 2310.209 784.735"
      >
        <g id="defined-svg">
          <path
            d="M2136.25 79.82c-284.15-8.45-396.65 33.39-482.65 86.39s-126 56-239 7c-75.34-32.67-130.67-26-166 20-50.87 75.33-95.74 118.67-134.6 130-58.29 17-109.7-30-142.7-33-33-3-124-17-105 139s-76 147-123 156-118.34-54.18-219-24.92c-100.67 29.26-153.1 137.47-166.58 190.98-13.49 53.52-107.58 110.09-190.73 49.09-83.15-61.01-251.2-15.52-336.45 49.48"
            id="main-path"
          />
          <g ref={personalInfoBtn} className="button" id="personal-info">
            <path
              d="M291.8 821.08c0 22.56-18.32 40.89-40.89 40.89s-40.89-18.33-40.89-40.89c0-22.57 18.32-40.89 40.89-40.89s40.89 18.32 40.89 40.89z"
              className="circle personal-info"
              id="cENw8RosL"
            />
            <g className="icon" id="personal-info">
              <path
                d="M270 838.05c2.27 0 4.1-1.84 4.1-4.11v-26.69c0-1.74-1.4-3.15-3.14-3.15h-40.25c-1.56 0-2.83 1.27-2.83 2.82v27.13c0 2.21 1.8 4 4 4H270z"
                id="d1Te4ZpKS"
              />
              <path d="M274.1 811.23h-46.22" id="aODUZr0v6" />
              <path
                d="M248.25 822.48c0 2.98-2.42 5.4-5.4 5.4-2.98 0-5.41-2.42-5.41-5.4 0-2.99 2.43-5.41 5.41-5.41s5.4 2.42 5.4 5.41z"
                id="a4D8DkAU5"
              />
              <path
                d="M250.34 830.67c.86 0 1.56.7 1.56 1.56v4.16c0 .86-.7 1.56-1.56 1.56h-14.98c-.87 0-1.57-.7-1.57-1.56v-4.16c0-.86.7-1.56 1.57-1.56h14.98z"
                id="i2IjdKdtv"
              />
              <path
                d="M269.23 817.89c.27 0 .49.22.49.49v1.3c0 .27-.22.48-.49.48h-12.02c-.27 0-.49-.21-.49-.48v-1.3c0-.27.22-.49.49-.49h12.02z"
                id="a4wmw9l75n"
              />
              <path
                d="M269.23 823.3c.27 0 .49.22.49.49v1.29c0 .27-.22.49-.49.49h-12.02a.49.49 0 01-.49-.49v-1.29c0-.27.22-.49.49-.49h12.02z"
                id="aj76I4614"
              />
              <path
                d="M269.23 828.4c.27 0 .49.22.49.49v1.29c0 .27-.22.49-.49.49h-12.02a.49.49 0 01-.49-.49v-1.29c0-.27.22-.49.49-.49h12.02z"
                id="bzyAUZaWd"
              />
            </g>
          </g>
          <g ref={educationBtn} className="button" id="education">
            <path
              d="M812.38 573.39c0 22.57-18.32 40.89-40.89 40.89s-40.89-18.32-40.89-40.89 18.32-40.89 40.89-40.89 40.89 18.32 40.89 40.89z"
              className="circle education"
            />
            <g className="icon" id="education-icon">
              <path
                d="M742.04 567.77l29.45 7.74 29.45-7.74-29.45-7.73-29.45 7.73z"
                id="bzQku9eor"
              />
              <path d="M796.99 581.8V568.9" id="bNrSPLHNN" />
              <path d="M799.25 585.67l-2.26-3.87-2.27 3.87" id="b2VfHbNuAI" />
              <path
                d="M787.79 571.31v9.08c-3.98 2.97-9.65 4.4-16.99 4.29-7.35-.11-13.01-1.54-16.99-4.29v-9.58"
                id="b1qlgIojZ2"
              />
            </g>
          </g>
          <g ref={professionBtn} className="button" id="profession">
            <path
              d="M1148.3 318.36c0 22.57-18.32 40.9-40.89 40.9s-40.89-18.33-40.89-40.9c0-22.56 18.32-40.89 40.89-40.89s40.89 18.33 40.89 40.89z"
              id="h7KFn2TbD"
              className="circle profession"
            />
            <g className="icon">
              <path
                d="M1084.3 312.62c.08 2.37 0 18.34 0 20.13a3.54 3.54 0 003.54 3.54h39.14a3.54 3.54 0 003.54-3.54c0-1.79-.05-16.64 0-20.47-.95 2.86-.75 4.12-3.85 7.43-3.1 3.3-9.34 7.22-19.26 7.28-15.5.08-22.27-9.22-23.11-14.37z"
                id="a1MrZctViO"
              />
              <path
                d="M1130.52 314.64v-6.88c0-.69-.56-1.25-1.25-1.25h-43.86c-.61 0-1.11.5-1.11 1.11v5.06"
                id="b27yhnEQTm"
              />
              <path
                d="M1111.95 300.53c2.61.03 4.71 2.15 4.71 4.76v1.36c-.13 1.18-.59 1.7-1.37 1.57-.78-.13-1.14-.66-1.08-1.57v-1.36c0-1.2-.96-2.16-2.16-2.16h-9.14c-1.14 0-2.08.87-2.18 2-.01.2-.05.71-.12 1.52-.2 1.04-.65 1.57-1.37 1.57-.72 0-1.08-.53-1.08-1.57v-1.09c0-2.85 2.33-5.15 5.18-5.12 2.66.03 5.85.06 8.61.09z"
                id="d5gPsSLby"
              />
              <path
                d="M1090.54 315.53c.27.4.18.94-.22 1.21-.15.11.23-.16.11-.07-.47.33-1.12.21-1.45-.26-.26-.39-.59-.86-.89-1.29a.77.77 0 01.2-1.07c.16-.11.08-.06.26-.19.31-.21.74-.13.95.18.31.44.75 1.08 1.04 1.49z"
                id="e49u68OEP4"
              />
              <path
                d="M1093.84 318.86c.34.34.34.89 0 1.23-.13.13.2-.19.09-.09-.4.41-1.06.41-1.46 0-.34-.33-.74-.73-1.11-1.1-.3-.3-.3-.79 0-1.09.14-.14.07-.08.23-.23a.67.67 0 01.96 0c.38.38.94.93 1.29 1.28z"
                id="d3VOyUXawL"
              />
              <path
                d="M1097.99 321.31c.42.24.56.77.32 1.18-.09.16.14-.24.07-.11-.29.5-.93.67-1.42.38-.41-.23-.9-.52-1.35-.78a.77.77 0 01-.29-1.05c.1-.18.06-.09.16-.28.19-.33.61-.44.94-.25.46.27 1.14.66 1.57.91z"
                id="i1iN8DW9Ra"
              />
              <path
                d="M1102.42 322.66c.47.08.78.54.69 1.01-.03.18.05-.27.03-.13-.11.57-.65.94-1.21.83-.46-.08-1.03-.19-1.54-.28a.78.78 0 01-.62-.9c.04-.2.02-.11.06-.32a.69.69 0 01.8-.55c.53.1 1.29.24 1.79.34z"
                id="jFWIoTxE8"
              />
              <path
                d="M1107.53 322.97c.48.01.86.42.84.9 0 .18.01-.28.01-.13-.02.57-.5 1.02-1.08 1-.46-.02-1.04-.04-1.56-.06a.765.765 0 01-.74-.8c.01-.2 0-.1.01-.32a.68.68 0 01.7-.66l1.82.07z"
                id="bcHIatRC"
              />
              <path
                d="M1123.38 315.53c-.27.4-.17.94.22 1.21.15.11-.23-.16-.1-.07.47.33 1.11.21 1.44-.26.27-.39.59-.86.89-1.29.24-.35.16-.83-.19-1.07-.17-.11-.09-.06-.27-.19a.69.69 0 00-.95.18c-.31.44-.75 1.08-1.04 1.49z"
                id="b6uaI1EQ"
              />
              <path
                d="M1120.52 318.86a.87.87 0 000 1.23c.13.13-.2-.19-.09-.09.4.41 1.06.41 1.47 0l1.1-1.1c.3-.3.3-.79 0-1.09-.14-.14-.07-.08-.23-.23a.67.67 0 00-.96 0c-.38.38-.93.93-1.29 1.28z"
                id="cmMbc9cCr"
              />
              <path
                d="M1115.93 321.31c-.41.24-.56.77-.32 1.18.09.16-.14-.24-.06-.11.28.5.92.67 1.42.38l1.35-.78c.37-.21.49-.68.28-1.05-.1-.18-.05-.09-.16-.28a.677.677 0 00-.93-.25c-.47.27-1.14.66-1.58.91z"
                id="daSVZcOs0"
              />
              <path
                d="M1111.51 322.66c-.48.08-.79.54-.7 1.01.03.18-.05-.27-.02-.13.1.57.64.94 1.21.83.46-.08 1.02-.19 1.53-.28.42-.08.7-.48.62-.9-.04-.2-.02-.11-.06-.32a.68.68 0 00-.79-.55c-.53.1-1.3.24-1.79.34z"
                id="b76dB44d3"
              />
              <path
                d="M1106.39 322.97c-.48.01-.86.42-.84.9.01.18-.01-.28 0-.13.02.57.5 1.02 1.07 1 .47-.02 1.04-.04 1.56-.06.43-.01.76-.37.75-.8-.01-.2-.01-.1-.02-.32a.675.675 0 00-.7-.66l-1.82.07z"
                id="a3AT6nFwa1"
              />
            </g>
          </g>
          <g ref={moreInfoBtn} className="button" id="more-information">
            <path
              d="M1552.7 198.35c0 22.57-18.32 40.89-40.89 40.89s-40.89-18.32-40.89-40.89 18.32-40.89 40.89-40.89 40.89 18.32 40.89 40.89z"
              id="a19Bnh1Uz"
              className="circle more-information"
            />
            <g className="icon">
              <path
                d="M1492.69 213.73c-3.91 0-5.79-2.41-5.64-7.21.15-4.81-1.42-7.49-4.73-8.05v-.29c3.31-.75 4.88-3.3 4.73-7.66-.15-4.35 1.73-6.3 5.64-5.85"
                id="J"
              />
              <path
                d="M1530.44 213.73c3.91 0 5.79-2.41 5.64-7.21-.15-4.81 1.42-7.49 4.73-8.05v-.29c-3.31-.75-4.88-3.3-4.73-7.66.15-4.35-1.73-6.3-5.64-5.85"
                id="K"
              />
              <path
                d="M1503.94 204.68a3.47 3.47 0 01-3.46 3.47 3.47 3.47 0 01-3.46-3.47 3.461 3.461 0 016.92 0z"
                id="L"
              />
              <path
                d="M1514.97 204.68c0 1.91-1.55 3.47-3.47 3.47a3.47 3.47 0 01-3.46-3.47c0-1.91 1.55-3.46 3.46-3.46 1.92 0 3.47 1.55 3.47 3.46z"
                id="M"
              />
              <path
                d="M1525.65 204.68a3.47 3.47 0 01-3.46 3.47 3.47 3.47 0 01-3.46-3.47 3.461 3.461 0 016.92 0z"
                id="N"
              />
            </g>
          </g>
          <g ref={continueBtn} className="button" id="continue">
            <path
              d="M1804.89 119.62c0 22.57-18.32 40.89-40.89 40.89s-40.89-18.32-40.89-40.89 18.32-40.89 40.89-40.89 40.89 18.32 40.89 40.89z"
              className="circle continue"
              id="bagXoVP5fm"
            />
            <g className="icon" id="next-icon">
              <path
                d="M1763 135.49c-.78.81-2.1.75-2.79-.14-4.16-5.32-15.25-19.5-19.39-24.79-.59-.75-.08-1.85.87-1.89 9.7-.36 36.21-1.37 45.83-1.73.97-.04 1.49 1.12.82 1.82-5.36 5.66-19.91 21-25.34 26.73z"
                id="awwPLOyn"
              />
              <path
                d="M1755.92 129.82c-5.5 1.58-8.94 2.56-10.31 2.95-.3.08-.54-.23-.4-.49.74-1.4 2.61-4.9 5.6-10.51"
                id="b2V7m9dbJ"
              />
              <path
                d="M1752.28 123.54c13.42-5.47 21.81-8.9 25.17-10.26.18-.08.09-.35-.1-.31-3.78.83-13.24 2.91-28.38 6.23"
                id="d1jvihwIna"
              />
            </g>
          </g>
        </g>
      </StyledMainPathSVG>
    </StyledAboutSvgBG>
  );
};

const StyledLogoSVG = styled("svg")`
  && {
    width: 600px;
    height: 600px;
    position: absolute;
    top: 0;
    left: -160px;
    opacity: 0;
    -webkit-transform: translate3d(100%, 0, 0);
    animation: slide_from_left 1s ease-in both;
    pointer-events: none;

    g {
      path {
        fill-opacity: 0;
        stroke: #000;
        stroke-width: 2;
      }

      &#hand {
        transform-origin: 120px 100%;
        transform: translate(-5px, 30px) rotate(-20deg);
        animation: wave_hand 2s ease-in infinite;

        @keyframes wave_hand {
          0% {
            transform: rotate(-20deg);
          }
          50% {
            transform: rotate(-13deg);
          }
          100% {
            transform: rotate(-20deg);
          }
        }
      }
    }

    @keyframes slide_from_left {
      0% {
        opacity: 0;
        -webkit-transform: translate3d(-100%, 0, 0);
        transform: translate3d(-100%, 0, 0);
      }
      100% {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
      }
    }
  }
`;

const StyledMainPathSVG = styled("svg")`
  g {
    path {
      opacity: 0;
      stroke-width: 2;
      fill: transparent;
      pointer-events: none;

      &#main-path {
        stroke-dasharray: 2800;
        animation: main_line 2s linear both;
        pointer-events: none;
        animation-delay: 2s;
        ${getPathLineInAnimation("main_line", -2800)}
      }

      &.circle {
        fill: #f6ce01;
      }
    }

    &.button {
      opacity: 0;
      clip-path: circle(0);
      animation: fade_path_buttons 0.3s ease-in both;
      animation-delay: 3s;
      pointer-events: all;
      cursor: pointer;

      &:nth-child(2) {
        animation-delay: 3.3s;
      }
      &:nth-child(3) {
        animation-delay: 3.6s;
      }
      &:nth-child(4) {
        animation-delay: 3.9s;
      }
      &:nth-child(5) {
        animation-delay: 4s;
      }
      &:nth-child(6) {
        animation-delay: 4.4s;
      }

      path.circle,
      .icon path {
        opacity: 1;
        pointer-events: all;
      }

      .icon path {
        pointer-events: none;
      }

      @keyframes fade_path_buttons {
        0% {
          opacity: 0;
          clip-path: circle(0);
        }
        100% {
          clip-path: circle(100%);
          opacity: 1;
        }
      }
    }
  }
`;

const StyledAboutSvgBG = styled(StyledSVGWrapper)`
  width: 100%;
  position: fixed;
  top: 0;
  bottom: 0;
  right: 0;
  left: 0;
`;
